<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: App.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: App.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import * as React from 'react';
import { Button, View } from 'react-native';
import { Component } from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createStackNavigator } from '@react-navigation/stack';
import Ionicons from 'react-native-vector-icons/Ionicons';
import { TouchableOpacity } from 'react-native-gesture-handler';
import SettingsScreen from './screens/SettingsScreen'
import Register from './screens/Register'
import SignInScreen from './screens/SignInScreen'
import firebase from 'firebase'
import Tabs from './components/Tabs'
import LoadingScreen from './screens/LoadingScreen'
import { createStore } from 'redux'
import { Provider } from 'react-redux'
import reducer from './redux/reducers/index'
import MoreInfoProduct from './screens/MoreInfoProduct'
import AddButton from './components/AddButton'
import ListArticleScreen from './screens/ListArticleScreen'
import { LogBox } from 'react-native';
import Loading from './screens/LoadingScreen'
import HomeSearchPage from './screens/Search/HomeSearchPage'
import 'localstorage-polyfill';
LogBox.ignoreLogs(['Setting a timer']); //nessecary 


function saveToLocalStorage(state) {
  try {
    const serialisedState = JSON.stringify(state);
    localStorage.setItem("persistantState", serialisedState);
  } catch (e) {
    console.warn(e);
  }
}

// load string from localStarage and convert into an Object
// invalid output must be undefined
function loadFromLocalStorage() {
  try {
    const serialisedState = localStorage.getItem("persistantState");
    if (serialisedState === null) return undefined;
    return JSON.parse(serialisedState);
  } catch (e) {
    console.warn(e);
    return undefined;
  }
}
const store = createStore(reducer, loadFromLocalStorage());
store.subscribe(() => saveToLocalStorage(store.getState()));

console.log(store.getState())
import {
  AppRegistry,
  StyleSheet,
  Text,
  Image,
  TextInput,
  TouchableHighlight,
} from 'react-native';
import SearchPage from './screens/Search/SearchPage';
import ScannerScreen from './screens/ScannerScreen';
function HomeScreen({ navigation }) {
  return (
    &lt;Tabs />
  );
}

function RegisterScreen({ navigation }) {
  return (
    &lt;Register />
  );
}


const Stack = createStackNavigator();
/**
 * Class App
 */

export default class App extends Component {
  /**
   * 
   * @param {Object} props 
   */
  constructor(props) {
    super(props);
  }
  state = {
    loggedIn: false,
    loaded: false
  }
  componentDidMount() {
    const firebaseConfig = {
      apiKey: "AIzaSyAF_rY_VHwjw_sHV-XTwQtxyrx-L1r1XoE",
      authDomain: "shoppinglist-6cc7b.firebaseapp.com",
      projectId: "shoppinglist-6cc7b",
      storageBucket: "shoppinglist-6cc7b.appspot.com",
      messagingSenderId: "899980789044",
      appId: "1:899980789044:web:437a9d1df1252be5abd161",
      measurementId: "G-F5XJDKGDKF"
    };

    if (!firebase.apps.length) {
      var fire = firebase.initializeApp(firebaseConfig);
      //module.exports.MyApp = MyApp.firestore();
    }
    // var db = firebase.firestore();
    firebase.auth().onAuthStateChanged(user => {
      if (!user) {
        this.setState({
          loggedIn: false,
          loaded: true,
        })
      } else {
        this.setState({
          loggedIn: true,
          loaded: true,
        })
      }
    })
  }


  renderContent = () => {
    //console.log(this.props.navigation);
    if (!this.state.loaded) {
      return &lt;Loading />
    }
    switch (this.state.loggedIn) {
      case false:
        return &lt;SignInScreen />
      case true:
        return (
          &lt;Provider store={store}>
            &lt;NavigationContainer>
              &lt;Stack.Navigator initialRouteName="Home" >
                &lt;Stack.Screen name="ShoppingList" component={HomeScreen}
                  options={({ navigation }) => ({
                    headerRight: ({ navigate }) => (
                      &lt;TouchableOpacity>
                        &lt;Ionicons
                          name="reorder-four-outline"
                          size={36}
                          onPress={() => navigation.navigate("Settings")}
                        />
                      &lt;/TouchableOpacity>

                    ),
                  })} />
                &lt;Stack.Screen name="HomeSearch"
                  component={HomeSearchPage}
                  options={({ navigation }) => ({
                  })} />

                &lt;Stack.Screen name="SignInScreen"
                  component={SignInScreen}
                  params={this.props}
                  options={({ navigation }) => ({
                  })} />

                &lt;Stack.Screen name="Register"
                  component={Register}
                  options={({ navigation }) => ({
                  })} />

                &lt;Stack.Screen name="MoreInfoScreen"
                  component={MoreInfoProduct}
                  options={({ navigation }) => ({
                  })} />
                &lt;Stack.Screen name="ListArticleScreen"
                  component={ListArticleScreen}
                  options={({ navigation }) => ({
                  })} />

                &lt;Stack.Screen name="RegisterScreen"
                  component={RegisterScreen}
                  options={({ navigation }) => ({
                  })} />
                &lt;Stack.Screen name="Scanner" component={ScannerScreen} />
                &lt;Stack.Screen name="AddButton" component={AddButton} />

                &lt;Stack.Screen name="Settings" component={SettingsScreen} />
              &lt;/Stack.Navigator>

            &lt;/NavigationContainer>
          &lt;/Provider>);

      default:
        return &lt;LoadingScreen />


    }
  }
  render() {
    return (
      &lt;View style={styles.container}>
        {this.renderContent()}
      &lt;/View>
    );
  }
}

// define your styles
const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    height: '100%',
    width: '100%'


  },
});





</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module.exports.html">exports</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sat Mar 13 2021 15:30:40 GMT+0100 (heure normale dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
